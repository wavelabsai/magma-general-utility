## Install GDB
sudo apt-get -y install gdb


* Check the core information :
   ```ls -lrt /var/core/*```

* Untar the core
  - cd /var/core
  - sudo tar -zxvf "CoreFileName".tgz 

    ```bash
    Sample output :
      vagrant@distro-magma:/var/core$ sudo tar -zxvf core-1670847726-TASK_AMF_APP-50944.tgz
      ./
      ./version
      ./core-1670847726-TASK_AMF_APP-50944.gz
      ./mme.log
      ./syslog
      vagrant@distro-magma:/var/core$
    ```

* GUNZIP the file :
```sudo gunzip ./CoreFileName.gz```

* Run the GDB : 
```sudo gdb /usr/local/bin/mme  "CoreFileName"```

## Sample Steps
- cd /var/core/
- sudo tar -zxvf core-1670847726-TASK_AMF_APP-50944.tgz
- sudo gunzip ./core-1670847726-TASK_AMF_APP-50944.gz
- sudo gdb /usr/local/bin/mme  core-1670847726-TASK_AMF_APP-50944

    ```bash 
    vagrant@distro-magma:/var/core$ sudo gdb /usr/local/bin/mme  core-1670847726-TASK_AMF_APP-50944
    GNU gdb (Ubuntu 9.2-0ubuntu1~20.04.1) 9.2
    Copyright (C) 2020 Free Software Foundation, Inc.
    License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
    This is free software: you are free to change and redistribute it.
    There is NO WARRANTY, to the extent permitted by law.
    Type "show copying" and "show warranty" for details.
    This GDB was configured as "x86_64-linux-gnu".
    Type "show configuration" for configuration details.
    For bug reporting instructions, please see:
    <http://www.gnu.org/software/gdb/bugs/>.
    Find the GDB manual and other documentation resources online at:
        <http://www.gnu.org/software/gdb/documentation/>.

    For help, type "help".
    Type "apropos word" to search for commands related to "word"...
    Reading symbols from /usr/local/bin/mme...
    [New LWP 50962]
    [New LWP 50949]
    [New LWP 50953]
    [New LWP 50972]
    [New LWP 50954]
    [New LWP 50948]
    [New LWP 50960]
    [New LWP 51002]
    [New LWP 50956]
    [New LWP 51078]
    [New LWP 50951]
    [New LWP 50959]
    [New LWP 50950]
    [New LWP 50944]
    [Thread debugging using libthread_db enabled]
    Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
    --Type <RET> for more, q to quit, c to continue without paging--
    Core was generated by `/usr/local/bin/mme -c /var/opt/magma/tmp/mme.conf -s /var/opt/magma/tmp/spgw.co'.
    Program terminated with signal SIGABRT, Aborted.
    #0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50
    50      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.
    [Current thread is 1 (Thread 0x7fd23a8f1700 (LWP 50962))]
    (gdb) bt
    #0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50
    #1  0x00007fd2440c3859 in __GI_abort () at abort.c:79
    #2  0x00007fd24434c911 in ?? () from /lib/x86_64-linux-gnu/libstdc++.so.6
    #3  0x00007fd24435838c in ?? () from /lib/x86_64-linux-gnu/libstdc++.so.6
    #4  0x00007fd2443583f7 in std::terminate() () from /lib/x86_64-linux-gnu/libstdc++.so.6
    #5  0x00007fd244359155 in __cxa_pure_virtual () from /lib/x86_64-linux-gnu/libstdc++.so.6
    #6  0x00005634fc7c6d02 in magma5g::clear_amf_nas_state ()
        at /home/vagrant/magma/lte/gateway/c/core/oai/tasks/amf/amf_app_state_manager.cpp:64
    #7  0x00005634fc7b8e0c in magma5g::amf_app_exit ()
        at /home/vagrant/magma/lte/gateway/c/core/oai/tasks/amf/amf_app_main.cpp:266
    #8  0x00005634fc7b8d5b in magma5g::amf_app_thread (args=0x0)
        at /home/vagrant/magma/lte/gateway/c/core/oai/tasks/amf/amf_app_main.cpp:227
    #9  0x00007fd24527a609 in start_thread (arg=<optimized out>) at pthread_create.c:477
    #10 0x00007fd2441c0133 in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95
    (gdb)
    ```
